if(MGL_HAVE_QT4 OR MGL_HAVE_QT5)

set(json_src Backend.cpp MainWindow.cpp)
set(json_moc_hdr Backend.hpp MainWindow.hpp)

include_directories(${MathGL_BINARY_DIR}/json)
if(MGL_HAVE_QT4)
	include(${QT_USE_FILE})
	qt4_wrap_ui(json_ui_src MainWindow.ui)
	qt4_wrap_cpp(json_moc_src ${json_moc_hdr} )
else(MGL_HAVE_QT4)
	set(CMAKE_INCLUDE_CURRENT_DIR ON)
	qt5_wrap_ui(json_ui_src MainWindow.ui)
	qt5_wrap_cpp(json_moc_src ${json_moc_hdr} )
endif(MGL_HAVE_QT4)
add_executable(MglForJsTestBench ${json_src} ${json_moc_src} ${json_ui_src})
if(MGL_HAVE_QT4)
	target_link_libraries(MglForJsTestBench mgl-qt ${QT_LIBRARIES})
else(MGL_HAVE_QT4)
	target_link_libraries(MglForJsTestBench mgl-qt5)
	qt5_use_modules(MglForJsTestBench Core Widgets Gui Network WebKit WebKitWidgets PrintSupport)
endif(MGL_HAVE_QT4)

endif(MGL_HAVE_QT4 OR MGL_HAVE_QT5)
