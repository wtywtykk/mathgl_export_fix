from distutils.core import setup, Extension
import os

try:
	source_dir="${SRC_INC}"
	binary_dir="${BIN_INC}"
	mgl_i="${MGL_I}"
	mgl_lib="${MGL_LIB}"
	mgl_lib_wnd="${MGL_LIB_WND}"
except KeyError:
	source_dir="."
	binary_dir="."
#	mgl_dir="src/.libs/libmgl.so"

mgl_module = Extension('_mathgl',
    sources=[mgl_i],
    include_dirs=[binary_dir, source_dir],
    swig_opts=[
#	"-outdir %s/lang" % binary_dir,
	'-c++',
	'-threads',
	"-I%s" % binary_dir,
	"-I%s" % source_dir],
    extra_objects=[mgl_lib,mgl_lib_wnd]
    )

setup (
    name = "mathgl",
    version = "2.0",
    maintainer="Dmitry Kulagin",
    maintainer_email="dik@ufp.appl.sci-nnov.ru",
    author="Alexey Balakin",
    author_email= "mathgl.ablakin@gmail.com",
    license="Same terms as MathGL",
    platforms = ["any"],
    url = "http://mathgl.sf.net",
    description = "Python interface for MathGL",
    long_description = "MathGL is a library for the plotting of the data \
 MathGL is a free library of fast C++ routines for the plotting \
 of the data varied in one or more dimensions. It uses OpenGL \
 (www.opengl.org) for the plotting. Also there is a simple window \
 interface based on GLUT. This provides high compatibility with \
 any operating system (really any which has OpenGL-like libraries). \
 Python interface for MathGL",
    package_dir = {"": ""},
    py_modules = ["mathgl"],
    ext_modules = [mgl_module]
    )
